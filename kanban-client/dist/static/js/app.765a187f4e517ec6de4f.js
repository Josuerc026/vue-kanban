webpackJsonp([1],{Kegm:function(t,e){},MbB9:function(t,e){},MrGN:function(t,e){},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("7+uW"),n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=s("VU/8")({name:"App"},n,!1,function(t){s("ptmn")},null,null).exports,i=s("/ocq"),o=s("Xxa5"),c=s.n(o),u=s("exGp"),l=s.n(u),d=s("mtWM"),p=s.n(d);p.a.defaults.withCredentials=!0;var m=function(){return p.a.create({baseURL:"https://vue-kanban-api.herokuapp.com/"})},v=function(){return m().get("/user")},g=function(t){return m().put("/user",t)},f=function(){return m().get("logout")},h={name:"mainHeader",props:["nameUpdated"],data:function(){return{firstname:"",lastname:"",username:"",userToggle:!1}},watch:{nameUpdated:function(t,e){t&&this.getUser()}},mounted:function(){this.getUser()},methods:{getUser:function(){var t=this;return l()(c.a.mark(function e(){var s,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:s=e.sent,a={first:s.data.firstname,last:s.data.lastname,username:s.data.username},t.firstname=a.first,t.lastname=a.last,t.username=a.username,t.$emit("user-info",a);case 8:case"end":return e.stop()}},e,t)}))()},logOut:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:s=e.sent,console.log(s.data),s.data.success&&t.$router.push({name:"Register",params:{type:"login"}});case 5:case"end":return e.stop()}},e,t)}))()}}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",[s("div",{staticClass:"container pos-relative"},[s("div",{staticClass:"overflow-auto flex-between"},[t._m(0),t._v(" "),s("div",{staticClass:"item-count align-right"},[s("span",[t._v("Happy "+t._s((new Date).toLocaleString("en-us",{weekday:"long"}))+",\n                  "),s("button",{staticClass:"user-toggle",on:{click:function(e){t.userToggle=!t.userToggle}}},[t._v(t._s(t.firstname))]),t._v("!\n                ")]),t._v(" "),t.userToggle?s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-icon"},[t._v("\n                    "+t._s(t.firstname?t.firstname[0].toUpperCase():"null")+t._s(t.lastname?t.lastname[0].toUpperCase():"null")+"\n                  ")]),t._v(" "),s("p",{staticClass:"no-margin"},[t._v(t._s(t.firstname)+" "+t._s(t.lastname))]),t._v(" "),s("p",{staticClass:"no-margin"},[t._v(t._s(t.username))]),t._v(" "),s("button",{staticClass:"log-out delete",on:{click:t.logOut}},[t._v("Log out")])]):t._e()])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:"https://cdn.onlinewebfonts.com/svg/img_561956.png",alt:"kanban project"}})])}]};var k=s("VU/8")(h,_,!1,function(t){s("ipr8")},"data-v-6d2a512d",null).exports,C=function(){return m().get("projects")},w=function(t){return m().post("add_project",t)},b=function(t){return m().delete("projects/"+t)},j=function(t){return m().post("boards",t)},T=function(t){return m().put("projects/"+t.id,t)},x={name:"kanban",components:{mainHeader:k},data:function(){return{setWarning:!1,setAlert:!1,userTask:"",projectTitle:"",isSaved:{message:"",check:!1},lists:[]}},computed:{},mounted:function(){console.log(this.$route.params),this.getBoards()},methods:{markSuccess:function(t,e){var s=this;this.isSaved.check=!this.isSaved.check,this.isSaved.msg=e,setTimeout(function(){s.isSaved.check=!s.isSaved.check},2500)},updateBoards:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T({lists:t.lists,id:t.$route.params.id});case 2:(s=e.sent).data.success&&t.markSuccess(s.data.success,s.data.message);case 4:case"end":return e.stop()}},e,t)}))()},getBoards:function(){var t=this;return l()(c.a.mark(function e(){var s,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j({id:t.$route.params.id});case 2:s=e.sent,a=s.data.board,console.log(a),t.projectTitle=a[0].title,a[0].lists.forEach(function(e){t.lists.push(e)});case 7:case"end":return e.stop()}},e,t)}))()},addTask:function(){var t=this.$refs.formSelect.options[this.$refs.formSelect.selectedIndex].id-0,e=this.lists[t],s=this.userTask,a=(new Date).toLocaleDateString();s?(e.todoList.push({date:a,description:s,checkMigrate:!1}),this.updateBoards(),e.userTask=""):alert("Add some text ;)")},addBoard:function(){this.lists.push({title:"Add Title",todoList:[],tasksRemaining:0,checkTitle:!1}),this.updateBoards()},removeBoard:function(t){this.lists.splice(t,1),this.updateBoards()},migrateTask:function(t){t.checkMigrate=!t.checkMigrate,this.updateBoards()},moveTask:function(t,e,s,a){var n=t.target.options[t.target.options.selectedIndex].id-0;this.lists[n].todoList.push(s),this.removeTask(e,a),this.migrateTask(s),this.updateBoards()},removeTask:function(t,e){t.todoList.splice(e,1),this.updateBoards()},editTitle:function(t){t.checkTitle=!t.checkTitle,this.updateBoards()}},beforeMount:function(){}},y={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("main-header"),t._v(" "),s("div",{staticClass:"container"},[s("router-link",{attrs:{to:"/projects"}},[t._v("Back to Projects ")]),t._v(" "),s("h1",[t._v(t._s(t.projectTitle))]),t._v(" "),s("div",{staticClass:"kanban-wrap"},[s("form",{on:{submit:function(e){e.preventDefault(),t.addTask(e)}}},[s("fieldset",[s("div",{staticClass:"task-inputs"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.userTask,expression:"userTask"}],staticClass:"ni-input",attrs:{type:"text",autocomplete:"true",placeholder:"Add Task..."},domProps:{value:t.userTask},on:{input:function(e){e.target.composing||(t.userTask=e.target.value)}}}),t._v(" "),s("select",{ref:"formSelect",staticClass:"select-board"},t._l(t.lists,function(e,a){return s("option",{key:e.id,attrs:{id:a}},[t._v(t._s(e.title))])})),t._v(" "),s("button",{staticClass:"add-task",attrs:{type:"submit"}},[t._v("Add task")])]),t._v(" "),s("div",{staticClass:"board-inputs"},[s("button",{staticClass:"add-board",attrs:{type:"button"},on:{click:t.addBoard}},[t._v("Add Board")])])])]),t._v(" "),s("div",{staticClass:"kanban-container"},t._l(t.lists,function(e,a){return s("div",{key:e.id,staticClass:"kanban"},[s("div",{staticClass:"kanban-task-count",class:{warning:e.todoList.length>4&&e.todoList.length<7,caution:e.todoList.length>=7}},[s("span",[t._v(t._s(e.todoList.length))])]),t._v(" "),e.checkTitle?s("div",{staticClass:"edit-title"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"kanban.title"}],attrs:{type:"text"},domProps:{value:e.title},on:{input:function(s){s.target.composing||t.$set(e,"title",s.target.value)}}}),t._v(" "),s("button",{staticClass:"edit",on:{click:function(s){t.editTitle(e)}}},[t._v("done")])]):t._e(),t._v(" "),s("h3",[t._v("\n            "+t._s(e.title)+"\n            "),s("div",[s("button",{staticClass:"edit",on:{click:function(s){t.editTitle(e)}}},[t._v("edit")]),t._v(" "),s("button",{staticClass:"delete",on:{click:function(e){t.removeBoard(a)}}},[t._v("Delete")])])]),t._v(" "),s("ul",t._l(e.todoList,function(a,n){return s("li",{key:a.id,staticClass:"list-item"},[s("div",{staticClass:"item-content"},[s("p",[t._v(t._s(a.description))]),t._v(" "),s("div",{staticClass:"item-group"},[s("small",{staticClass:"item-date"},[t._v(t._s(a.date))]),t._v(" "),s("div",{staticClass:"btn-group-right"},[s("button",{staticClass:"edit",on:{click:function(e){t.migrateTask(a,null)}}},[t._v("Move")]),t._v(" "),s("button",{staticClass:"delete",on:{click:function(s){t.removeTask(e,n)}}},[t._v("Delete")])])]),t._v(" "),a.checkMigrate?s("div",[s("select",{on:{change:function(s){t.moveTask(s,e,a,n)}}},[s("option",[t._v("Select Board")]),t._v(" "),t._l(t.lists,function(e,a){return s("option",{key:e.id,attrs:{id:a}},[t._v(t._s(e.title))])})],2)]):t._e()])])}))])})),t._v(" "),t.isSaved.check?s("div",{staticClass:"saved-prompt"},[s("h3",[t._v(t._s(t.isSaved.msg))])]):t._e()])],1)],1)},staticRenderFns:[]};var P=s("VU/8")(x,y,!1,function(t){s("MrGN")},"data-v-7f71bc6c",null).exports,$={name:"Projects",components:{mainHeader:k},data:function(){return{projects:[],npToggle:!1,updatedName:!1,userToggles:{name:!1,username:!1},totalBoards:0,user:{first:"",last:"",username:""},delCheck:{toggle:!1,name:"",id:""},newProject:{title:"",board:{title:"First Board (Edit me!)",item:{date:(new Date).toLocaleDateString(),description:"Project Board Item",checkMigrate:!1},tasksRemaining:0,checkTitle:!1}}}},mounted:function(){this.fetchProjects()},methods:{getUserInfo:function(t){this.user.first=t.first,this.user.last=t.last,this.user.username=t.username},updateName:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({firstname:t.user.first,lastname:t.user.last});case 2:e.sent.data.success&&(t.updatedName=!0),t.userToggles.name=!t.userToggles.name,setTimeout(function(){t.updatedName=!1},500);case 6:case"end":return e.stop()}},e,t)}))()},fetchProjects:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:s=e.sent,t.projects=s.data.projects.projects,t.projects.length<4&&(t.npToggle=!0),t.totalBoards=t.projects.reduce(function(t,e){return t+e.lists.length},0);case 6:case"end":return e.stop()}},e,t)}))()},addProject:function(){var t=this;return l()(c.a.mark(function e(){var s,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.newProject,e.next=3,w(s);case 3:(a=e.sent).data.success&&(console.log(a.data),t.npToggle=!t.npToggle,t.fetchProjects());case 5:case"end":return e.stop()}},e,t)}))()},checkDelete:function(t,e,s){this.delCheck.id&&this.delCheck.id&&s?(this.deleteProject(this.delCheck.id),this.delCheck.toggle=!this.delCheck.toggle):(this.delCheck.toggle=!this.delCheck.toggle,this.delCheck.name=e,this.delCheck.id=t)},deleteProject:function(t){var e=this;return l()(c.a.mark(function s(){var a;return c.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,b(t);case 2:a=s.sent,console.log(a.data),e.fetchProjects();case 5:case"end":return s.stop()}},s,e)}))()}}},B={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"project-wrap"},[s("main-header",{attrs:{nameUpdated:t.updatedName},on:{"user-info":t.getUserInfo}}),t._v(" "),t.delCheck.toggle?s("div",{staticClass:"delete-popup"},[s("div",{staticClass:"delete-popup-content text-center"},[s("img",{staticClass:"prompt-img",attrs:{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/0/06/Caution_icon_-_Noun_Project_9556_white.svg/1024px-Caution_icon_-_Noun_Project_9556_white.svg.png"}}),t._v(" "),s("h3",[t._v('Are you sure you want to delete "'+t._s(t.delCheck.name)+'"?')]),t._v(" "),s("div",{staticClass:"prompt-btns"},[s("button",{staticClass:"prompt-btn",on:{click:function(e){t.checkDelete(null,null,!0)}}},[t._v("yes")]),t._v(" "),s("button",{staticClass:"prompt-btn",on:{click:function(e){t.checkDelete(null,null,!1)}}},[t._v("no")])])])]):t._e(),t._v(" "),s("div",{staticClass:"project-container"},[s("div",{staticClass:"project-flex-container"},[s("div",{staticClass:"user-dash"},[s("div",{staticClass:"user-content"},[s("div",{staticClass:"user-icon"},[t._v("\n              "+t._s(t.user.first?t.user.first[0].toUpperCase():"?")+t._s(t.user.last?t.user.last[0].toUpperCase():"?")+"\n            ")]),t._v(" "),s("br"),t._v(" "),s("div",[t.userToggles.name?s("div",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.first,expression:"user.first"}],attrs:{name:"first",placeholder:t.user.first},domProps:{value:t.user.first},on:{input:function(e){e.target.composing||t.$set(t.user,"first",e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.user.last,expression:"user.last"}],attrs:{name:"last",placeholder:t.user.last},domProps:{value:t.user.last},on:{input:function(e){e.target.composing||t.$set(t.user,"last",e.target.value)}}}),s("button",{on:{click:t.updateName}},[t._v("Update")]),s("button",{on:{click:function(e){t.userToggles.name=!t.userToggles.name}}},[t._v("Edit")])]):s("div",[s("div",[t._v(t._s(t.user.first)+" "+t._s(t.user.last?t.user.last:"🤐")+" "),s("button",{on:{click:function(e){t.userToggles.name=!t.userToggles.name}}},[t._v("Edit")])])]),t._v(" "),s("br"),t._v(" "),s("div",[t._v(t._s(t.user.username))])])]),t._v(" "),s("div",{staticClass:"pb-stats"},[s("div",{staticClass:"project-stats"},[s("p",[s("strong",[t._v(t._s(t.projects.length))]),t._v(" Projects")])]),t._v(" "),s("div",{staticClass:"board-stats"},[s("p",[s("strong",[t._v(t._s(t.totalBoards))]),t._v(" Boards")])])])]),t._v(" "),s("div",{staticClass:"project-dash"},[s("h1",{staticClass:"main-heading"},[t._v("My Projects")]),t._v(" "),s("div",{staticClass:"project-grid"},t._l(t.projects,function(e){return s("router-link",{key:e.id,staticClass:"project-anchor pos-relative",attrs:{to:{name:"Kanban",params:{title:e.title.toLowerCase().split(" ").join("-"),id:e._id}}}},[s("div",[s("h3",{staticClass:"no-margin project-title"},[t._v(t._s(e.title))]),t._v(" "),s("small",{staticClass:"project-details"},[t._v(t._s(e.lists.length)+" "+t._s(e.lists.length>1?"Boards":"Board"))]),t._v(" "),s("button",{staticClass:"delete-project",on:{click:function(s){s.preventDefault(),t.checkDelete(e._id,e.title)}}},[s("span",{staticClass:"sr-only"},[t._v("Delete Project")]),t._v("X")])])])})),t._v(" "),s("div",{staticClass:"add-project-wrap"},[t.npToggle?s("div",{staticClass:"new-project"},[s("div",{staticClass:"new-project-container"},[s("h3",{staticClass:"no-margin"},[t._v("Add a new project")]),t._v(" "),s("p",[t._v("A board and list will be generated once you're in the project to get you started.")]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newProject.title,expression:"newProject.title"}],staticClass:"np-input",attrs:{type:"text",placeholder:"Project Name"},domProps:{value:t.newProject.title},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addProject(e):null},input:function(e){e.target.composing||t.$set(t.newProject,"title",e.target.value)}}}),t._v(" "),s("button",{staticClass:"delete",on:{click:t.addProject}},[t._v("Add Project")])])]):t._e(),t._v(" "),s("button",{staticClass:"add-project",class:{on:t.npToggle},on:{click:function(e){t.npToggle=!t.npToggle}}},[s("span",{staticClass:"sr-only"},[t._v("Add new")])])])])])])],1)},staticRenderFns:[]};var N=s("VU/8")($,B,!1,function(t){s("thtC")},"data-v-27f2d9c0",null).exports,L=function(t){return m().post("register",t)},U=function(t){return m().post("login",t)},R={name:"register",data:function(){return{firstname:"",lastname:"",username:"",password:"",validatePass:!1,registerToggle:!0}},beforeRouteEnter:function(t,e,s){"login"===t.params.type||"register"===t.params.type?"login"===t.params.type?s(function(t){t.registerToggle=!t.registerToggle}):s():s({name:"error",path:"/404"})},beforeRouteUpdate:function(t,e,s){"login"===t.params.type?(this.registerToggle=!1,s()):s()},mounted:function(){this.login()},methods:{confirmPass:function(t){t.target.value===this.password?this.validatePass=!0:this.validatePass=!1},setType:function(){this.registerToggle=!this.registerToggle,this.$router.push({name:"Register",params:{type:this.registerToggle?"register":"login"}})},register:function(){var t=this;return l()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L({firstname:t.firstname,lastname:t.lastname,username:t.username,password:t.password});case 2:e.sent.data.success&&t.$router.push({name:"Register",params:{type:"login"}});case 4:case"end":return e.stop()}},e,t)}))()},login:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U({username:t.username,password:t.password});case 2:s=e.sent,console.log(s.data),s.data.success&&t.$router.push({name:"Projects"});case 5:case"end":return e.stop()}},e,t)}))()}}},S={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register-login"},[s("div",{staticClass:"main-area"},[s("div",{staticClass:"main-area-content"},[s("div",{staticClass:"centered"},[s("h1",{staticClass:"no-margin"},[t._v(t._s(t.$route.params.type[0].toUpperCase()+t.$route.params.type.slice(1)))]),t._v(" "),s("p",[t._v(t._s("register"===t.$route.params.type?"Sign up":"Log in to Kanban Lite")+" to get access to your projects, boards and more.")]),t._v(" "),t.registerToggle?s("div",{staticClass:"form register"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.firstname,expression:"firstname"}],attrs:{type:"text",placeholder:"First Name",name:"firstname"},domProps:{value:t.firstname},on:{input:function(e){e.target.composing||(t.firstname=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.lastname,expression:"lastname"}],attrs:{type:"text",placeholder:"Last Name",name:"lastname"},domProps:{value:t.lastname},on:{input:function(e){e.target.composing||(t.lastname=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username",name:"email"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("input",{attrs:{type:"password",name:"confirm-password",placeholder:"Confirm Password"},on:{keyup:function(e){t.confirmPass(e)}}}),t._v(" "),s("button",{staticClass:"btn",attrs:{disabled:!t.validatePass},on:{click:t.register}},[t._v("Register")]),t._v(" or\n          "),s("button",{staticClass:"btn-alt",on:{click:t.setType}},[t._v("Login")])]):s("div",{staticClass:"form login"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",placeholder:"username",name:"email"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),s("button",{staticClass:"btn",on:{click:t.login}},[t._v("Login")]),t._v(" or\n          "),s("button",{staticClass:"btn-alt",on:{click:t.setType}},[t._v("Register")])])])])])])},staticRenderFns:[]};var E=s("VU/8")(R,S,!1,function(t){s("MbB9")},"data-v-0f16fc79",null).exports,A={name:"logout",data:function(){return{text:""}},mounted:function(){this.logOut()},methods:{logOut:function(){var t=this;return l()(c.a.mark(function e(){var s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:s=e.sent,console.log(s.data),s.data.success&&t.$router.push({name:"Register",params:{type:"login"}});case 5:case"end":return e.stop()}},e,t)}))()}}},D={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("Logout")])])}]};var M=s("VU/8")(A,D,!1,function(t){s("tKnL")},"data-v-561ae8d7",null).exports,F={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("h1",[this._v("404")])])}]};var K=s("VU/8")({name:"error-404"},F,!1,function(t){s("Kegm")},"data-v-1c241a88",null).exports;a.a.use(i.a);var V=new i.a({mode:"history",routes:[{path:"/projects",name:"Projects",component:N},{path:"/projects/:id",name:"Kanban",component:P},{path:"/auth/:type",name:"Register",component:E},{path:"/logout",name:"Logout",component:M},{path:"/404",name:"error",component:K}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:V,components:{App:r},template:"<App/>"})},ipr8:function(t,e){},ptmn:function(t,e){},tKnL:function(t,e){},thtC:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.765a187f4e517ec6de4f.js.map